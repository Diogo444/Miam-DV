import{a as st}from"./chunk-FWX7BHLZ.js";import{a as w,b as k,c as A,d as ge,e as B,f as H,g as L,h as V,i as te,j as ne,k as ue,l as fe,m as _e,n as rt,o as at,p as U,q}from"./chunk-TMOZ42GX.js";import{f as F,g as ot}from"./chunk-CCPG2SRZ.js";import{a as b}from"./chunk-FANJDF6J.js";import{$a as C,Ab as R,Bb as I,Cb as tt,Da as _,Db as nt,Eb as me,F as We,Fb as de,G as x,Gb as y,Ja as l,K,Ka as ce,Kb as it,La as Ye,Ma as o,Na as r,Oa as p,P as Ae,Pa as X,Qa as Z,Ra as E,Sa as m,Ta as u,Ua as Qe,V as Ge,W as h,Wa as Ke,X as M,Xa as Xe,Ya as Ze,Za as Ve,_a as s,a as Re,aa as Be,ab as ee,b as Le,bb as pe,cb as T,da as qe,db as D,eb as j,fb as et,g as N,gb as v,h as $e,hb as Ue,k as He,ma as le,na as Je,o as ae,qa as a,ra as d,v as se,ya as f}from"./chunk-JAUITPGP.js";var W=class n{page=new $e("menu");page$=this.page.asObservable();togglePage(t){this.page.next(t)}constructor(){}static \u0275fac=function(e){return new(e||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})};var be=class n{constructor(t){this.navigate=t}page="";navigeteTo(t){this.navigate.togglePage(t)}static \u0275fac=function(e){return new(e||n)(d(W))};static \u0275cmp=f({type:n,selectors:[["app-navbar-a"]],decls:23,vars:0,consts:[["src","public/svg/house.svg","alt","Icone accueil",3,"click"],["src","public/svg/menu.svg","alt","Icone menu",3,"click"],["src","public/svg/messages.svg","alt","Icone miammi",3,"click"],["src","public/svg/text-quote.svg","alt","Voir les proverbes",3,"click"],["src","public/svg/message-add.svg","alt","Ajout message",3,"click"],["src","public/svg/recipe.svg","alt","Ajout recette",3,"click"],["src","public/svg/palette.svg","alt","Ajout design",3,"click"],["src","public/svg/book.svg","alt","Voir les recettes",3,"click"],["src","public/svg/user-round-cog.svg","alt","G\xE9rer les utilisateurs",3,"click"]],template:function(e,i){e&1&&(o(0,"header")(1,"nav")(2,"ul")(3,"li")(4,"img",0),m("click",function(){return i.navigeteTo("menu")}),r()(),o(5,"li")(6,"img",1),m("click",function(){return i.navigeteTo("menuajout")}),r()(),o(7,"li")(8,"img",2),m("click",function(){return i.navigeteTo("miammi")}),r()(),o(9,"li")(10,"img",3),m("click",function(){return i.navigeteTo("all-proverbe")}),r()(),o(11,"li")(12,"img",4),m("click",function(){return i.navigeteTo("miammiajout")}),r()(),o(13,"li")(14,"img",5),m("click",function(){return i.navigeteTo("addrecipe")}),r()(),o(15,"li")(16,"img",6),m("click",function(){return i.navigeteTo("add-design")}),r()(),o(17,"li")(18,"img",7),m("click",function(){return i.navigeteTo("recipes-list")}),r()(),o(19,"li")(20,"img",3),m("click",function(){return i.navigeteTo("all-proverbs")}),r()(),o(21,"li")(22,"img",8),m("click",function(){return i.navigeteTo("users-settings")}),r()()()()())},styles:["img[_ngcontent-%COMP%]{cursor:pointer}header[_ngcontent-%COMP%]{position:relative;padding:20px;background-color:#282c34}header[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;list-style:none;margin:0;padding:0;overflow-x:scroll;scrollbar-width:none}header[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-left:15px}header[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:24px;height:24px;display:block}header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:20px 0;font-size:24px;color:#f1f1f1;text-align:center;font-weight:lighter}"]})};function mt(n,t){if(n&1){let e=E();o(0,"div",5)(1,"button",6),m("click",function(){h(e);let c=u();return M(c.navigateTo("login"))}),s(2,"Se connecter"),r(),o(3,"button",6),m("click",function(){h(e);let c=u();return M(c.navigateTo("register"))}),s(4,"S'inscrire"),r()()}}var Ce=class n{constructor(t,e){this.router=t;this.navigate=e}page="";isAccountBoxVisible=!1;toggleAccountBox(){this.isAccountBoxVisible=!this.isAccountBoxVisible}togglePage(t){this.navigate.togglePage(t)}navigateTo(t){this.router.navigate([`/${t}`]),this.isAccountBoxVisible=!1}static \u0275fac=function(e){return new(e||n)(d(F),d(W))};static \u0275cmp=f({type:n,selectors:[["app-navbar"]],decls:12,vars:1,consts:[["src","public/svg/house.svg","alt","accueil",3,"click"],["src","public/svg/book.svg","alt","recettes",3,"click"],["src","public/svg/bell.svg","alt","notification",1,"notif",3,"click"],["src","public/svg/user.svg","alt","utilisateur",1,"user-icon",3,"click"],["class","account",4,"ngIf"],[1,"account"],[3,"click"]],template:function(e,i){e&1&&(o(0,"header")(1,"nav")(2,"ul")(3,"li")(4,"img",0),m("click",function(){return i.togglePage("menu")}),r()(),o(5,"li")(6,"img",1),m("click",function(){return i.togglePage("recipes-list")}),r()(),o(7,"li")(8,"img",2),m("click",function(){return i.togglePage("notifs")}),r()(),o(9,"li")(10,"img",3),m("click",function(){return i.toggleAccountBox()}),r()()()(),_(11,mt,5,0,"div",4),r()),e&2&&(a(11),l("ngIf",i.isAccountBoxVisible))},dependencies:[y,I],styles:['@charset "UTF-8";img[_ngcontent-%COMP%]{cursor:pointer}header[_ngcontent-%COMP%]{position:relative;padding:20px;background-color:#282c34}header[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;list-style:none;margin:0;padding:0}header[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-left:15px}header[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:24px;height:24px;display:block}header[_ngcontent-%COMP%]   .account[_ngcontent-%COMP%]{position:absolute;top:60px;right:20px;background-color:#fff;border:1px solid #ddd;box-shadow:0 4px 6px #0000001a;padding:1rem;border-radius:5px;z-index:10;display:flex;flex-direction:column;gap:.5rem;animation:_ngcontent-%COMP%_fadeIn .3s ease}header[_ngcontent-%COMP%]   .account[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none;padding:.5rem 1rem;border-radius:5px;cursor:pointer;font-size:16px;transition:background-color .3s}header[_ngcontent-%COMP%]   .account[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}header[_ngcontent-%COMP%]   .user-icon[_ngcontent-%COMP%]{cursor:pointer;transition:transform .2s}header[_ngcontent-%COMP%]   .user-icon[_ngcontent-%COMP%]:hover{transform:scale(1.1)}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}']})};var $=class n{constructor(t,e){this.http=t;this.router=e}isAuthenticated(){return this.http.get("/auth/check",{withCredentials:!0}).pipe(ae(t=>t.authenticated),se(()=>(this.router.navigate(["/login"]),[!1])))}getRole(){return this.http.get("/auth/role",{withCredentials:!0}).pipe(ae(t=>t.message==="Token expir\xE9"?(console.warn("Token expir\xE9, d\xE9connexion..."),this.router.navigate(["/login"]),"guest"):t.role||"guest"),se(t=>(console.error("Erreur lors de la r\xE9cup\xE9ration du r\xF4le :",t),this.router.navigate(["/login"]),He("guest"))))}getUsername(){return this.http.get("/auth/user",{withCredentials:!0}).pipe(ae(t=>t.name),se(()=>[""]))}logout(){this.http.post("auth/logout",{},{withCredentials:!0}).subscribe(()=>{this.router.navigate(["/login"])})}static \u0275fac=function(e){return new(e||n)(Ae(it),Ae(F))};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})};function dt(n,t){if(n&1){let e=E();o(0,"div",7)(1,"h1"),s(2),r(),o(3,"div",8),m("click",function(){h(e);let c=u();return M(c.tooglePage("change-password"))}),p(4,"img",9),o(5,"span"),s(6,"Changer de mot de passe"),r()(),o(7,"div",8),m("click",function(){h(e);let c=u();return M(c.tooglePage("change-username"))}),p(8,"img",10),o(9,"span"),s(10,"Changer de nom d'utilisateur"),r()(),o(11,"div",8),m("click",function(){h(e);let c=u();return M(c.deleteAccount())}),p(12,"img",11),o(13,"span"),s(14,"Supprimer le compte"),r()(),o(15,"div",8),m("click",function(){h(e);let c=u();return M(c.logout())}),p(16,"img",12),o(17,"span"),s(18,"D\xE9connexion"),r()()()}if(n&2){let e=u();a(2),C(e.username)}}var xe=class n{constructor(t,e,i,c){this.api=t;this.auth=e;this.navigate=i;this.router=c}currentSettings=!1;username="";page="";ngOnInit(){this.auth.getUsername().subscribe({next:t=>{this.username=t},error:()=>{this.username=""}})}tooglePage(t){this.navigate.togglePage(t)}toggleSettings(){this.currentSettings=!this.currentSettings}logout(){this.auth.logout()}deleteAccount(){this.api.delete_account().subscribe({next:()=>{this.auth.logout()},error:t=>{console.error("Erreur lors de la suppression du compte:",t)}})}static \u0275fac=function(e){return new(e||n)(d(b),d($),d(W),d(F))};static \u0275cmp=f({type:n,selectors:[["app-navbar-u"]],decls:16,vars:1,consts:[["src","public/svg/house.svg","alt","accueil",3,"click"],["src","public/svg/book.svg","alt","recettes",3,"click"],["src","public/svg/text-quote.svg","alt","Voir les proverbes",3,"click"],["src","public/svg/bell.svg","alt","notification",1,"notif",3,"click"],["src","public/svg/palette.svg","alt","Personalisation",3,"click"],["src","public/svg/user.svg","alt","utilisateur",1,"user-icon",3,"click"],["class","modal",4,"ngIf"],[1,"modal"],[1,"modal-option",3,"click"],["src","public/svg/password.svg","alt","Changer le mot de passe"],["src","public/svg/user-pen.svg","alt","Changer le nom d'utilisateur"],["src","public/svg/delete-account.svg","alt","Supprimer le compte"],["src","public/svg/logout.svg","alt","D\xE9connexion"]],template:function(e,i){e&1&&(o(0,"header")(1,"nav")(2,"ul")(3,"li")(4,"img",0),m("click",function(){return i.tooglePage("menu")}),r()(),o(5,"li")(6,"img",1),m("click",function(){return i.tooglePage("recipes-list")}),r()(),o(7,"li")(8,"img",2),m("click",function(){return i.tooglePage("all-proverbs")}),r()(),o(9,"li")(10,"img",3),m("click",function(){return i.tooglePage("notifs")}),r()(),o(11,"li")(12,"img",4),m("click",function(){return i.tooglePage("palette")}),r()(),o(13,"li")(14,"img",5),m("click",function(){return i.toggleSettings()}),r()()()(),_(15,dt,19,1,"div",6),r()),e&2&&(a(15),l("ngIf",i.currentSettings))},dependencies:[y,I],styles:['@charset "UTF-8";img[_ngcontent-%COMP%]{cursor:pointer}header[_ngcontent-%COMP%]{position:relative;padding:20px;background-color:#282c34}header[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;list-style:none;margin:0;padding:0}header[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-left:15px}header[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:24px;height:24px;display:block}header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:20px 0;font-size:24px;color:#f1f1f1;text-align:center;font-weight:lighter}header[_ngcontent-%COMP%]   .user-icon[_ngcontent-%COMP%]{cursor:pointer;transition:transform .2s}header[_ngcontent-%COMP%]   .user-icon[_ngcontent-%COMP%]:hover{transform:scale(1.1)}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.modal[_ngcontent-%COMP%]{position:absolute;top:50px;right:20px;width:300px;background-color:#fff;border:2px solid #333333;box-shadow:0 4px 8px #0003;border-radius:8px;padding:1rem;z-index:100;animation:_ngcontent-%COMP%_fadeIn .3s ease;display:flex;flex-direction:column;gap:1rem}.modal[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#333;font-size:1.4rem;font-weight:700;margin:0;text-align:center}.modal[_ngcontent-%COMP%]   .modal-option[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:.75rem;border-radius:6px;transition:background-color .2s ease}.modal[_ngcontent-%COMP%]   .modal-option[_ngcontent-%COMP%]:hover{background-color:#f8f9fa;cursor:pointer}.modal[_ngcontent-%COMP%]   .modal-option[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:24px;height:24px}.modal[_ngcontent-%COMP%]   .modal-option[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#333;font-size:1rem;font-weight:500;flex-grow:1}.modal[_ngcontent-%COMP%]   .modal-option[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{color:#007bff;text-decoration:none}']})};var he=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=f({type:n,selectors:[["app-rien"]],decls:5,vars:0,consts:[[1,"rien"],[1,"rien-content"],["src","public/svg/warning.svg","alt","icone rien"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"div",1),p(2,"img",2),o(3,"p"),s(4,"Ho on dirait qu'il n'y a rien \xE0 manger pour le moment"),r()()())},styles:[".rien[_ngcontent-%COMP%]{width:100%;height:100%;background:#000}img[_ngcontent-%COMP%]{width:100px}p[_ngcontent-%COMP%]{color:#ddd;text-align:center}.rien-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}"]})};var gt=["loadingText"],J=class n{loadingText;ngAfterViewInit(){this.loadingText.nativeElement.style.display="none"}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=f({type:n,selectors:[["app-loader"]],viewQuery:function(e,i){if(e&1&&Ke(gt,5),e&2){let c;Xe(c=Ze())&&(i.loadingText=c.first)}},decls:13,vars:0,consts:[["loadingText",""],[1,"loader"],[2,"--i","1"],[2,"--i","2"],[2,"--i","3"],[2,"--i","4"],[2,"--i","5"],[2,"--i","6"],[2,"--i","7"],[2,"--i","8"],["tabindex","0"]],template:function(e,i){e&1&&(o(0,"section")(1,"div",1),p(2,"span",2)(3,"span",3)(4,"span",4)(5,"span",5)(6,"span",6)(7,"span",7)(8,"span",8)(9,"span",9),r(),o(10,"p",10,0),s(12,"Chargement..."),r()())},styles:[".loader[_ngcontent-%COMP%]{position:relative;width:100px;height:100px;display:flex;justify-content:center;align-items:center}.loader[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;width:15px;height:15px;background:#00ff0a;border-radius:50%;transform:rotate(calc(45deg * var(--i))) translate(40px);animation:_ngcontent-%COMP%_spin 1s linear infinite;animation-delay:calc(.1s * var(--i))}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(calc(45deg * var(--i))) translate(40px)}50%{transform:rotate(calc(45deg * var(--i))) translate(50px);background:red}to{transform:rotate(calc(45deg * var(--i))) translate(40px)}}"]})};var Y=class n{constructor(){}getItem(t){return typeof localStorage<"u"?localStorage.getItem(t):null}setItem(t,e){typeof localStorage<"u"&&localStorage.setItem(t,e)}removeItem(t){typeof localStorage<"u"&&localStorage.removeItem(t)}clear(){typeof localStorage<"u"&&localStorage.clear()}static \u0275fac=function(e){return new(e||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})};var ut=n=>({background:n}),P=n=>({color:n});function ft(n,t){if(n&1&&(o(0,"p",13),s(1),r()),n&2){let e=u(2);a(),C(e.proverbe[0].proverbe)}}function _t(n,t){if(n&1&&(o(0,"div"),_(1,ft,2,1,"p",12),r()),n&2){let e=u();a(),l("ngIf",e.proverbe[0].proverbe)}}function vt(n,t){n&1&&p(0,"app-loader",14)}function bt(n,t){if(n&1&&(o(0,"div",23)(1,"p",24),s(2,"Entr\xE9e : "),o(3,"span",25),s(4),r()()()),n&2){let e=u(3);a(),l("ngStyle",v(3,P,e.color_type)),a(2),l("ngStyle",v(5,P,e.color_text)),a(),C(e.displayedMenu.midi==null?null:e.displayedMenu.midi.entree)}}function Ct(n,t){if(n&1&&(o(0,"div",23)(1,"p",24),s(2,"Plats : "),o(3,"span",25),s(4),r()()()),n&2){let e=u(3);a(),l("ngStyle",v(3,P,e.color_type)),a(2),l("ngStyle",v(5,P,e.color_text)),a(),C(e.displayedMenu.midi==null?null:e.displayedMenu.midi.plats)}}function xt(n,t){if(n&1&&(o(0,"div",23)(1,"p",24),s(2,"Accompagnement : "),o(3,"span",25),s(4),r()()()),n&2){let e=u(3);a(),l("ngStyle",v(3,P,e.color_type)),a(2),l("ngStyle",v(5,P,e.color_text)),a(),C(e.displayedMenu.midi==null?null:e.displayedMenu.midi.accompagnement)}}function ht(n,t){if(n&1&&(o(0,"div",23)(1,"p",24),s(2,"Fromages : "),o(3,"span",25),s(4),r()()()),n&2){let e=u(3);a(),l("ngStyle",v(3,P,e.color_type)),a(2),l("ngStyle",v(5,P,e.color_text)),a(),C(e.displayedMenu.midi==null?null:e.displayedMenu.midi.fromage)}}function Mt(n,t){if(n&1&&(o(0,"div",23)(1,"p",24),s(2,"Dessert : "),o(3,"span",25),s(4),r()()()),n&2){let e=u(3);a(),l("ngStyle",v(3,P,e.color_type)),a(2),l("ngStyle",v(5,P,e.color_text)),a(),C(e.displayedMenu.midi==null?null:e.displayedMenu.midi.dessert)}}function yt(n,t){if(n&1&&(X(0),o(1,"div",17)(2,"div",18)(3,"div",19),s(4,"Midi"),r()(),o(5,"div",20)(6,"div",21),_(7,bt,5,7,"div",22)(8,Ct,5,7,"div",22)(9,xt,5,7,"div",22)(10,ht,5,7,"div",22)(11,Mt,5,7,"div",22),r()()(),Z()),n&2){let e=u(2);a(3),l("ngStyle",v(6,P,e.color_text)),a(4),l("ngIf",e.displayedMenu.midi==null?null:e.displayedMenu.midi.entree),a(),l("ngIf",e.displayedMenu.midi==null?null:e.displayedMenu.midi.plats),a(),l("ngIf",e.displayedMenu.midi==null?null:e.displayedMenu.midi.accompagnement),a(),l("ngIf",e.displayedMenu.midi==null?null:e.displayedMenu.midi.fromage),a(),l("ngIf",e.displayedMenu.midi==null?null:e.displayedMenu.midi.dessert)}}function Pt(n,t){if(n&1&&(o(0,"div",26)(1,"div",18)(2,"div",27),s(3,"Midi"),r()(),p(4,"app-rien"),r()),n&2){let e=u(2);a(2),l("ngStyle",v(1,P,e.color_text))}}function Ot(n,t){if(n&1&&(o(0,"div",23)(1,"p",24),s(2,"Entr\xE9e : "),o(3,"span",25),s(4),r()()()),n&2){let e=u(4);a(),l("ngStyle",v(3,P,e.color_type)),a(2),l("ngStyle",v(5,P,e.color_text)),a(),C(e.displayedMenu.soir==null?null:e.displayedMenu.soir.entree)}}function St(n,t){if(n&1&&(o(0,"div",23)(1,"p",24),s(2,"Plats : "),o(3,"span",25),s(4),r()()()),n&2){let e=u(4);a(),l("ngStyle",v(3,P,e.color_type)),a(2),l("ngStyle",v(5,P,e.color_text)),a(),C(e.displayedMenu.soir==null?null:e.displayedMenu.soir.plats)}}function wt(n,t){if(n&1&&(o(0,"div",23)(1,"p",24),s(2,"Accompagnement : "),o(3,"span",25),s(4),r()()()),n&2){let e=u(4);a(),l("ngStyle",v(3,P,e.color_type)),a(2),l("ngStyle",v(5,P,e.color_text)),a(),C(e.displayedMenu.soir==null?null:e.displayedMenu.soir.accompagnement)}}function kt(n,t){if(n&1&&(o(0,"div",23)(1,"p",24),s(2,"Fromages : "),o(3,"span",25),s(4),r()()()),n&2){let e=u(4);a(),l("ngStyle",v(3,P,e.color_type)),a(2),l("ngStyle",v(5,P,e.color_text)),a(),C(e.displayedMenu.soir==null?null:e.displayedMenu.soir.fromage)}}function Et(n,t){if(n&1&&(o(0,"div",23)(1,"p",24),s(2,"Dessert : "),o(3,"span",25),s(4),r()()()),n&2){let e=u(4);a(),l("ngStyle",v(3,P,e.color_type)),a(2),l("ngStyle",v(5,P,e.color_text)),a(),C(e.displayedMenu.soir==null?null:e.displayedMenu.soir.dessert)}}function It(n,t){if(n&1&&(X(0),o(1,"div",28)(2,"div",18)(3,"div",29),s(4,"Soir"),r()(),o(5,"div",20)(6,"div",21),_(7,Ot,5,7,"div",22)(8,St,5,7,"div",22)(9,wt,5,7,"div",22)(10,kt,5,7,"div",22)(11,Et,5,7,"div",22),r()()(),Z()),n&2){let e=u(3);a(3),l("ngStyle",v(6,P,e.color_text)),a(4),l("ngIf",e.displayedMenu.soir==null?null:e.displayedMenu.soir.entree),a(),l("ngIf",e.displayedMenu.soir==null?null:e.displayedMenu.soir.plats),a(),l("ngIf",e.displayedMenu.soir==null?null:e.displayedMenu.soir.accompagnement),a(),l("ngIf",e.displayedMenu.soir==null?null:e.displayedMenu.soir.fromage),a(),l("ngIf",e.displayedMenu.soir==null?null:e.displayedMenu.soir.dessert)}}function Nt(n,t){if(n&1&&(X(0),_(1,It,12,8,"ng-container",16),Z()),n&2){u();let e=Ve(6),i=u();a(),l("ngIf",(i.displayedMenu.soir==null?null:i.displayedMenu.soir.entree)||(i.displayedMenu.soir==null?null:i.displayedMenu.soir.plats)||(i.displayedMenu.soir==null?null:i.displayedMenu.soir.fromage)||(i.displayedMenu.soir==null?null:i.displayedMenu.soir.dessert))("ngIfElse",e)}}function Tt(n,t){if(n&1&&(o(0,"div",30)(1,"div",18)(2,"div",31),s(3,"Soir"),r()(),p(4,"app-rien"),r()),n&2){let e=u(2);a(2),l("ngStyle",v(1,P,e.color_text))}}function Dt(n,t){if(n&1&&(o(0,"div",15),_(1,yt,12,8,"ng-container",16)(2,Pt,5,3,"ng-template",null,0,Ue)(4,Nt,2,2,"ng-container",3)(5,Tt,5,3,"ng-template",null,1,Ue),r()),n&2){let e=Ve(3),i=u();l("ngStyle",v(4,ut,i.bg)),a(),l("ngIf",(i.displayedMenu.midi==null?null:i.displayedMenu.midi.entree)||(i.displayedMenu.midi==null?null:i.displayedMenu.midi.plats)||(i.displayedMenu.midi==null?null:i.displayedMenu.midi.accompagnement)||(i.displayedMenu.midi==null?null:i.displayedMenu.midi.fromage)||(i.displayedMenu.midi==null?null:i.displayedMenu.midi.dessert))("ngIfElse",e),a(3),l("ngIf",i.logJourActuel())}}var Me=class n{constructor(t,e,i){this.apiService=t;this.auth=e;this.localStorage=i}role="";currentDate=this.adjustForWeekend(new Date);jours={actuel:"",suivant:""};menu=[];proverbe=[];displayedMenu={};loading=!0;bg="";color_text="";color_type="";joursSemaineFr=["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"];destroy$=new N;ngOnInit(){this.jours={actuel:this.getFrenchDay(this.currentDate),suivant:this.getFrenchNextDay()},this.auth.getRole().pipe(x(this.destroy$)).subscribe({next:t=>{this.role=t,this.applyPreferences()},error:()=>{this.role="guest"}}),this.loadMenu(),this.loadProverbes()}loadMenu(){this.apiService.getMenu().pipe(x(this.destroy$)).subscribe({next:t=>{this.loading=!1,this.menu=t,this.updateDisplayedMenu()},error:t=>{this.loading=!1,console.error("Erreur lors de la r\xE9cup\xE9ration du menu :",t),this.menu=[],this.updateDisplayedMenu()},complete:()=>this.loading=!1})}loadProverbes(){this.apiService.getProverbe().pipe(x(this.destroy$)).subscribe({next:t=>this.proverbe=t,error:t=>console.error("Erreur lors de la r\xE9cup\xE9ration des proverbes :",t)})}applyPreferences(){this.role!=="user"&&this.role!=="admin"||this.apiService.getPreferences().pipe(x(this.destroy$)).subscribe({next:t=>{if(t.length>0){let e=t[0];this.localStorage.setItem("preferences",JSON.stringify(e)),this.bg=e.bg_container,this.color_text=e.color_text,this.color_type=e.color_text_type}else console.warn("Aucune pr\xE9f\xE9rence trouv\xE9e.")},error:t=>{console.error("Erreur lors du chargement des pr\xE9f\xE9rences :",t)}})}updateDisplayedMenu(){let t=this.menu.filter(e=>e.jour===this.jours.actuel&&(e.periode==="midi"||e.periode==="soir"));this.displayedMenu={midi:t.find(e=>e.periode==="midi"),soir:t.find(e=>e.periode==="soir")}}nextDay(){this.currentDate=this.getNextValidDate(this.currentDate,1),this.jours.actuel=this.jours.suivant,this.jours.suivant=this.getFrenchNextDay(),this.updateDisplayedMenu()}logJourActuel(){return this.jours.actuel!=="vendredi"}previousDay(){this.currentDate=this.getNextValidDate(this.currentDate,-1),this.jours.suivant=this.jours.actuel,this.jours.actuel=this.getFrenchDay(this.currentDate),this.updateDisplayedMenu()}getFrenchDay(t){return this.joursSemaineFr[t.getDay()]}getFrenchNextDay(){return this.getFrenchDay(this.getNextValidDate(this.currentDate,1))}getNextValidDate(t,e){let i=new Date(t);do i.setDate(i.getDate()+e);while(i.getDay()===0||i.getDay()===6);return i}adjustForWeekend(t){return t.getDay()===0?t.setDate(t.getDate()+1):t.getDay()===6&&t.setDate(t.getDate()+2),t}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static \u0275fac=function(e){return new(e||n)(d(b),d($),d(Y))};static \u0275cmp=f({type:n,selectors:[["app-menu"]],decls:13,vars:4,consts:[["rienMidi",""],["rienSoir",""],[1,"container"],[4,"ngIf"],[1,"day"],["aria-label","Jour pr\xE9c\xE9dent",3,"click","keydown.enter","keydown.space"],["src","public/svg/left-menu.svg","alt","Jour pr\xE9c\xE9dent"],["aria-live","polite"],["aria-label","Jour suivant",3,"click"],["src","public/svg/right-menu.svg","alt","Jour suivant"],["class","loader",4,"ngIf"],["class","menu",3,"ngStyle",4,"ngIf"],["class","proverbe",4,"ngIf"],[1,"proverbe"],[1,"loader"],[1,"menu",3,"ngStyle"],[4,"ngIf","ngIfElse"],["role","region","aria-live","polite","aria-labelledby","midi-heading",1,"menu-card","midi-card"],[1,"periode"],["id","midi-heading",1,"periode-text",3,"ngStyle"],[1,"menu-content"],[1,"menu-item"],["class","typetext",4,"ngIf"],[1,"typetext"],[1,"type",3,"ngStyle"],[3,"ngStyle"],["role","region","aria-labelledby","midi-rien-heading",1,"menu-rien"],["id","midi-rien-heading",1,"periode-text",3,"ngStyle"],["role","region","aria-labelledby","soir-heading",1,"menu-card","soir-card"],["id","soir-heading",1,"periode-text",3,"ngStyle"],["role","region","aria-labelledby","soir-rien-heading",1,"menu-rien"],["id","soir-rien-heading",1,"periode-text",3,"ngStyle"]],template:function(e,i){e&1&&(o(0,"div",2)(1,"h1"),s(2,"Menu de la Semaine"),r(),_(3,_t,2,1,"div",3),o(4,"div",4)(5,"button",5),m("click",function(){return i.previousDay()})("keydown.enter",function(){return i.previousDay()})("keydown.space",function(){return i.previousDay()}),p(6,"img",6),r(),o(7,"p",7),s(8),r(),o(9,"button",8),m("click",function(){return i.nextDay()}),p(10,"img",9),r()(),_(11,vt,1,0,"app-loader",10)(12,Dt,7,6,"div",11),r()),e&2&&(a(3),l("ngIf",i.proverbe&&i.proverbe.length>0),a(5),C(i.jours.actuel),a(3),l("ngIf",i.loading),a(),l("ngIf",!i.loading))},dependencies:[y,I,me,he,J],styles:[".container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:20px;background:#333;border-radius:8px}.container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:20px 0;font-size:24px;color:#f1f1f1;text-align:center;font-weight:400}.container[_ngcontent-%COMP%]   .proverbe[_ngcontent-%COMP%]{margin-top:0;padding-bottom:20px;text-align:center}.container[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100px}.day[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:20px;margin-bottom:20px}.day[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;border:none;border-radius:4px;cursor:pointer;padding:5px;display:flex;align-items:center;justify-content:center}.day[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:24px;height:24px;display:block}.day[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:1.2em;text-align:center}.menu[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;color:#f1f1f1;text-shadow:0 0 1px #f1f1f1;background:#333}.menu[_ngcontent-%COMP%]   .menu-card[_ngcontent-%COMP%]{border-radius:8px;padding:20px;flex:1;min-width:80%;max-width:400px;display:flex;flex-direction:column;transition:transform .3s ease}.menu[_ngcontent-%COMP%]   .menu-card.midi-card[_ngcontent-%COMP%]{margin-bottom:20px}.menu[_ngcontent-%COMP%]   .periode[_ngcontent-%COMP%]{border-bottom:1px solid #444;padding:10px;display:flex;justify-content:center;font-weight:700}.menu[_ngcontent-%COMP%]   .periode[_ngcontent-%COMP%]   .periode-text[_ngcontent-%COMP%]{font-size:20px}.menu-content[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:20px}.menu-content[_ngcontent-%COMP%]   .typetext[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:block;color:#bc8623}.menu-content[_ngcontent-%COMP%]   .typetext[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;color:#f1f1f1}.menu-rien[_ngcontent-%COMP%]{min-width:80%}@media (max-width: 600px){.menu-card[_ngcontent-%COMP%]{min-width:100%}header[_ngcontent-%COMP%]{font-weight:700}}"]})};function jt(n,t){n&1&&p(0,"app-loader",5)}function Ft(n,t){if(n&1&&(o(0,"div",6),p(1,"img",7),o(2,"div",8)(3,"p",9),s(4,"Miammi"),r(),o(5,"p",10),s(6),r(),p(7,"p",11),r()()),n&2){let e=t.$implicit;a(6),pe("",e.jour,"/",e.mois,"/",e.annee," ",e.heure,":",e.minute,""),a(),l("innerHTML",e.message,le)}}var ye=class n{constructor(t,e){this.router=t;this.apiService=e}message=[];loading=!0;navigeTo(t){this.router.navigate([`/${t}`])}ngOnInit(){this.apiService.getMiami().subscribe(t=>{this.message=t.sort((e,i)=>i.id-e.id),this.message.forEach(e=>{e.message=e.message.replace(/\n/g,"<br>")}),this.loading=!1},t=>{console.error("Erreur lors de la r\xE9cup\xE9ration des donn\xE9es:",t),this.loading=!1})}static \u0275fac=function(e){return new(e||n)(d(F),d(b))};static \u0275cmp=f({type:n,selectors:[["app-notif"]],decls:5,vars:2,consts:[[1,"close-button",3,"click"],["src","public/svg/left-menu.svg","alt","Fermer"],["class","loader",4,"ngIf"],[1,"notification-container"],["class","message",4,"ngFor","ngForOf"],[1,"loader"],[1,"message"],["src","public/avatar/Miammi.png","alt","Photo de profil de Miammi",1,"avatar"],[1,"message-container"],[1,"message-author"],[1,"message-date"],[1,"message-text",3,"innerHTML"]],template:function(e,i){e&1&&(o(0,"button",0),m("click",function(){return i.navigeTo("/")}),p(1,"img",1),r(),_(2,jt,1,0,"app-loader",2),o(3,"div",3),_(4,Ft,8,6,"div",4),r()),e&2&&(a(2),l("ngIf",i.loading),a(2),l("ngForOf",i.message))},dependencies:[y,R,I,J],styles:[".close-button[_ngcontent-%COMP%]{background:transparent;border:none;cursor:pointer;position:fixed;left:10px;top:10px;z-index:10}.notification-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:10px;margin-top:25px}.message[_ngcontent-%COMP%]{display:flex;align-items:flex-start;margin:5px 0;padding:15px;border-radius:10px;background-color:#333;box-shadow:0 2px 5px #0000004d}.avatar[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:50%;margin-right:10px;flex-shrink:0}.message-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.message-author[_ngcontent-%COMP%]{font-weight:700;color:#fff;margin:0}.message-date[_ngcontent-%COMP%]{color:#bbb;font-size:.85rem;margin:0}.message-text[_ngcontent-%COMP%]{color:#f1f1f1;font-size:.95rem;margin:0}button[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;border:none;border-radius:5px;padding:5px 10px;font-size:.9rem;cursor:pointer;align-self:flex-start}.loader[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh}"]})};function At(n,t){if(n&1){let e=E();o(0,"div",3),m("click",function(){let c=h(e).$implicit,g=u();return M(g.showrecipe(c.slug))}),p(1,"img",4),o(2,"p",5),s(3),r()()}if(n&2){let e=t.$implicit;a(),Qe("alt",e.nom),l("src","https://miamdv.hopto.org/"+e.image,Je),a(2),C(e.nom)}}function Vt(n,t){n&1&&(o(0,"div",6),s(1,"Aucune recette trouv\xE9e"),r())}var Pe=class n{constructor(t){this.apiService=t}recipes=[];filteredRecipes=[];searchTerm="";selectRecipe=new Be;ngOnInit(){this.apiService.getrecipelist().subscribe(t=>{this.recipes=t.sort((e,i)=>i.id-e.id),this.filteredRecipes=[...this.recipes]})}ngOnChanges(){this.filterRecipes()}filterRecipes(){this.searchTerm?this.filteredRecipes=this.recipes.filter(t=>t.nom.toLowerCase().includes(this.searchTerm.toLowerCase())):this.filteredRecipes=[...this.recipes]}showrecipe(t){this.selectRecipe.emit(t)}static \u0275fac=function(e){return new(e||n)(d(b))};static \u0275cmp=f({type:n,selectors:[["app-list"]],inputs:{searchTerm:"searchTerm"},outputs:{selectRecipe:"selectRecipe"},features:[Ge],decls:3,vars:2,consts:[[1,"recettes-card"],["class","recettes-card-container",3,"click",4,"ngFor","ngForOf"],["class","not-found",4,"ngIf"],[1,"recettes-card-container",3,"click"],[1,"recettes-img",3,"src","alt"],[1,"recettes-title"],[1,"not-found"]],template:function(e,i){e&1&&(o(0,"div",0),_(1,At,4,3,"div",1)(2,Vt,2,0,"div",2),r()),e&2&&(a(),l("ngForOf",i.filteredRecipes),a(),l("ngIf",i.filteredRecipes.length===0))},dependencies:[y,R,I],styles:[".close-button[_ngcontent-%COMP%]{background:transparent;border:none;cursor:pointer;margin-left:10px;margin-top:10px}.recettes-card[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));grid-gap:20px;margin-bottom:20px}.recettes-card-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;padding:10px;border-radius:8px;cursor:pointer;box-shadow:0 2px 4px #0000001a;transition:transform .3s ease}.recettes-card-container[_ngcontent-%COMP%]   .recettes-img[_ngcontent-%COMP%]{width:100%;max-width:180px;height:180px;object-fit:cover;border-radius:4px}.recettes-card-container[_ngcontent-%COMP%]   .recettes-title[_ngcontent-%COMP%]{margin-top:10px;font-size:1.2rem;font-weight:700}.recettes-card-container[_ngcontent-%COMP%]:hover{transform:scale(1.05)}"]})};function Ut(n,t){n&1&&p(0,"app-loader",2)}function zt(n,t){if(n&1&&(o(0,"div")(1,"div",5)(2,"p",6),s(3),r(),o(4,"p",7),s(5),r()()()),n&2){let e=t.$implicit;a(3),C(e.proverbe),a(2),C(e.created_at)}}function Rt(n,t){if(n&1&&(X(0),o(1,"div",3),_(2,zt,6,2,"div",4),r(),Z()),n&2){let e=u();a(2),l("ngForOf",e.filteredProverbe)}}var Oe=class n{constructor(t,e){this.api=t;this.datePipe=e}allProverbe=[];loading=!0;searchTerm="";ngOnInit(){this.api.getAllProverbe().subscribe(t=>{this.loading=!1,this.allProverbe=t.map(e=>Le(Re({},e),{created_at:e.created_at?this.datePipe.transform(e.created_at,"dd/MM/yyyy"):null})).sort((e,i)=>i.id-e.id)},t=>{console.error("Erreur lors de la r\xE9cup\xE9ration des proverbes :",t)})}get filteredProverbe(){return this.allProverbe.filter(t=>t.proverbe.toLowerCase().includes(this.searchTerm.toLowerCase()))}static \u0275fac=function(e){return new(e||n)(d(b),d(de))};static \u0275cmp=f({type:n,selectors:[["app-all-proverbe"]],inputs:{searchTerm:"searchTerm"},features:[et([de])],decls:2,vars:2,consts:[["class","loader",4,"ngIf"],[4,"ngIf"],[1,"loader"],[1,"proverbes"],[4,"ngFor","ngForOf"],[1,"proverbe-container"],[1,"message-text"],[1,"message-date"]],template:function(e,i){e&1&&_(0,Ut,1,0,"app-loader",0)(1,Rt,3,1,"ng-container",1),e&2&&(l("ngIf",i.loading),a(),l("ngIf",!i.loading))},dependencies:[y,R,I,J],styles:[".proverbes[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:20px;padding:20px}.proverbes[_ngcontent-%COMP%]   .proverbe-container[_ngcontent-%COMP%]{background:#2e2e2e;color:#fff;padding:15px;border-radius:10px;box-shadow:0 4px 6px #0000004d;transition:transform .2s ease-in-out,box-shadow .2s ease-in-out}.proverbes[_ngcontent-%COMP%]   .proverbe-container[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 6px 10px #00000080}.proverbes[_ngcontent-%COMP%]   .proverbe-container[_ngcontent-%COMP%]   .message-text[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700;margin-bottom:10px}.proverbes[_ngcontent-%COMP%]   .proverbe-container[_ngcontent-%COMP%]   .message-date[_ngcontent-%COMP%]{font-size:.9rem;color:#d0d0d0;text-align:right}.loader[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}"]})};function Lt(n,t){if(n&1){let e=E();o(0,"div",5),m("click",function(){let c=h(e).index,g=u();return M(g.selectDesign(c))}),o(1,"div",6)(2,"h2"),s(3),r(),o(4,"p"),s(5,"Un joli design avec des couleurs magnifiques !"),r()()()}if(n&2){let e=t.$implicit,i=t.index,c=u();ce("background",e.bg_container),Ye("selected",i===c.selectedIndex),a(2),ce("color",e.color_text_type),a(),ee("Design ",e.id,""),a(),ce("color",e.color_text)}}var Se=class n{constructor(t,e){this.api=t;this.router=e}designs=[];selectedIndex=null;ngOnInit(){this.api.getAllDesigns().subscribe(t=>{this.designs=t})}selectDesign(t){this.selectedIndex=t}validateSelection(){if(this.selectedIndex!==null){let e=this.designs[this.selectedIndex].id;this.api.updatePreferences(e).subscribe(()=>{window.location.reload()},i=>{console.error(i)})}else alert("Veuillez s\xE9lectionner un design avant de valider.")}static \u0275fac=function(e){return new(e||n)(d(b),d(F))};static \u0275cmp=f({type:n,selectors:[["app-palette"]],decls:6,vars:1,consts:[[1,"carousel-container"],[1,"carousel"],["class","carousel-card",3,"background","selected","click",4,"ngFor","ngForOf"],[1,"validate-container"],[3,"click"],[1,"carousel-card",3,"click"],[1,"content"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"div",1),_(2,Lt,6,9,"div",2),r()(),o(3,"div",3)(4,"button",4),m("click",function(){return i.validateSelection()}),s(5,"Valider"),r()()),e&2&&(a(2),l("ngForOf",i.designs))},dependencies:[y,R],styles:['@charset "UTF-8";.carousel-container[_ngcontent-%COMP%]{position:relative;width:100%;max-width:600px;margin:auto;overflow:hidden}.carousel[_ngcontent-%COMP%]{display:flex;overflow-x:auto;scroll-snap-type:x mandatory;gap:1rem;padding:.5rem}.carousel-card[_ngcontent-%COMP%]{scroll-snap-align:center;flex:0 0 70%;height:300px;background-color:#f1f1f1;color:#fff;border-radius:10px;box-shadow:0 4px 6px #0000001a;text-align:center;padding:20px;overflow:hidden;display:flex;flex-direction:column;justify-content:center}.carousel-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px;margin-bottom:10px}.carousel-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;margin-bottom:0}.carousel[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.carousel-card[_ngcontent-%COMP%]{cursor:pointer;transition:transform .3s ease,border .3s ease}.carousel-card.selected[_ngcontent-%COMP%]{transform:scale(1.05);border:2px solid #00bcd4}.validate-container[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:20px}.validate-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;border:none;padding:12px 24px;font-size:16px;border-radius:5px;cursor:pointer;transition:background-color .3s,transform .2s}.validate-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#45a049}.validate-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{transform:scale(.95)}.validate-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{outline:2px solid #2a9d8f;outline-offset:4px}.validate-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{background-color:#c8c8c8;cursor:not-allowed}']})};var we=class n{constructor(t,e,i,c){this.api=t;this.router=e;this.auth=i;this.localStorage=c}username="";password="";ngOnInit(){this.auth.getUsername().subscribe(t=>{this.username=t})}onSubmit(){let t=this.localStorage.getItem("token");t?this.api.change_password(this.password,t).subscribe(e=>{this.localStorage.setItem("token",e.token),this.router.navigate([this.router.url])},e=>{console.error(e)}):console.error("Aucun token trouv\xE9")}static \u0275fac=function(e){return new(e||n)(d(b),d(F),d($),d(Y))};static \u0275cmp=f({type:n,selectors:[["app-password"]],decls:14,vars:2,consts:[[1,"change-container"],[1,"form",3,"ngSubmit"],[1,"form-group"],["for","username"],["type","password","name","password","id","password","placeholder","Entrez votre nouveau mot de passe",1,"input-field",3,"ngModelChange","ngModel"],["type","submit",1,"submit-btn"],[1,"back-link"],["routerLink","/user"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"h1"),s(2),r(),o(3,"form",1),m("ngSubmit",function(){return i.onSubmit()}),o(4,"div",2)(5,"label",3),s(6,"Nouveau mot de passe :"),r(),o(7,"input",4),j("ngModelChange",function(g){return D(i.password,g)||(i.password=g),g}),r()(),o(8,"button",5),s(9,"Changer !"),r()(),o(10,"p",6),s(11," J'ai chang\xE9 d'avis : "),o(12,"a",7),s(13,"Retourner \xE0 la page d'accueil"),r()()()),e&2&&(a(2),ee("Tu veux changer ton mot de passe ",i.username,", alors dis moi quelle est ton nouveau mot de passe"),a(5),T("ngModel",i.password))},dependencies:[U,V,w,k,A,L,B],styles:[".change-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:100vh;padding:20px}.form-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;margin-bottom:20px;text-align:center}.form[_ngcontent-%COMP%]{background:#f1f1f1;width:100%;max-width:400px;padding:20px;border-radius:8px;box-shadow:0 4px 6px #0000001a}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-size:1rem;color:#555}.input-field[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:1rem;border:1px solid #ccc;border-radius:5px;box-sizing:border-box}.input-field[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none;box-shadow:0 0 3px #007bff80}.submit-btn[_ngcontent-%COMP%]{width:100%;padding:10px;background-color:#007bff;color:#fff;font-size:1rem;font-weight:700;border:none;border-radius:5px;cursor:pointer;text-transform:uppercase}.submit-btn[_ngcontent-%COMP%]:hover{background-color:#0056b3}.back-link[_ngcontent-%COMP%]{margin-top:15px;font-size:.9rem;text-align:center}.back-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#d2dce7;text-decoration:none;cursor:pointer}.back-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}@media (max-width: 768px){.form[_ngcontent-%COMP%]{padding:15px;max-width:90%}.form-title[_ngcontent-%COMP%]{font-size:1.2rem}.submit-btn[_ngcontent-%COMP%]{font-size:.9rem}.back-link[_ngcontent-%COMP%]{font-size:.8rem}}@media (max-width: 480px){.form-title[_ngcontent-%COMP%]{font-size:1rem}.form[_ngcontent-%COMP%]{padding:10px;max-width:100%}.input-field[_ngcontent-%COMP%]{padding:8px;font-size:.9rem}.submit-btn[_ngcontent-%COMP%]{font-size:.8rem;padding:8px}.back-link[_ngcontent-%COMP%]{font-size:.7rem}}"]})};var ke=class n{constructor(t,e,i,c){this.api=t;this.router=e;this.auth=i;this.localStorage=c}username="";newUsername="";ngOnInit(){this.auth.getUsername().subscribe(t=>this.username=t)}onSubmit(){let t=this.localStorage.getItem("token");t?this.api.change_username(this.newUsername,t).subscribe(e=>{this.localStorage.setItem("token",e.token),this.router.navigate([this.router.url])},e=>{console.error("Error changing username:",e),alert("Une erreur est survenue lors de la mise \xE0 jour de votre nom d'utilisateur.")}):(console.error("Token is missing"),alert("Le token est manquant. Veuillez vous reconnecter."))}static \u0275fac=function(e){return new(e||n)(d(b),d(F),d($),d(Y))};static \u0275cmp=f({type:n,selectors:[["app-username"]],decls:14,vars:2,consts:[[1,"change-container"],[1,"form-title"],[1,"form",3,"ngSubmit"],[1,"form-group"],["for","username"],["type","text","name","username","id","username","placeholder","Entrez votre nouveau nom d'utilisateur",1,"input-field",3,"ngModelChange","ngModel"],["type","submit",1,"submit-btn"],[1,"back-link"],["routerLink","/user"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"h1",1),s(2),r(),o(3,"form",2),m("ngSubmit",function(){return i.onSubmit()}),o(4,"div",3)(5,"label",4),s(6,"Nouveau nom d'utilisateur :"),r(),o(7,"input",5),j("ngModelChange",function(g){return D(i.newUsername,g)||(i.newUsername=g),g}),r()(),o(8,"button",6),s(9,"Changer !"),r()(),o(10,"p",7),s(11," J'ai chang\xE9 d'avis : "),o(12,"a",8),s(13,"Retourner \xE0 la page d'accueil"),r()()()),e&2&&(a(2),ee("Tu veux changer ton nom d'utilisateur ",i.username,", alors dis moi comment tu veux le nommer "),a(5),T("ngModel",i.newUsername))},dependencies:[ot,q,V,w,k,A,U,L,B],styles:[".change-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:100vh;padding:20px}.form-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;margin-bottom:20px;text-align:center}.form[_ngcontent-%COMP%]{background:#f1f1f1;width:100%;max-width:400px;padding:20px;border-radius:8px;box-shadow:0 4px 6px #0000001a}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-size:1rem;color:#555}.input-field[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:1rem;border:1px solid #ccc;border-radius:5px;box-sizing:border-box}.input-field[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none;box-shadow:0 0 3px #007bff80}.submit-btn[_ngcontent-%COMP%]{width:100%;padding:10px;background-color:#007bff;color:#fff;font-size:1rem;font-weight:700;border:none;border-radius:5px;cursor:pointer;text-transform:uppercase}.submit-btn[_ngcontent-%COMP%]:hover{background-color:#0056b3}.back-link[_ngcontent-%COMP%]{margin-top:15px;font-size:.9rem;text-align:center}.back-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#d2dce7;text-decoration:none;cursor:pointer}.back-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}@media (max-width: 768px){.form[_ngcontent-%COMP%]{padding:15px;max-width:90%}.form-title[_ngcontent-%COMP%]{font-size:1.2rem}.submit-btn[_ngcontent-%COMP%]{font-size:.9rem}.back-link[_ngcontent-%COMP%]{font-size:.8rem}}@media (max-width: 480px){.form-title[_ngcontent-%COMP%]{font-size:1rem}.form[_ngcontent-%COMP%]{padding:10px;max-width:100%}.input-field[_ngcontent-%COMP%]{padding:8px;font-size:.9rem}.submit-btn[_ngcontent-%COMP%]{font-size:.8rem;padding:8px}.back-link[_ngcontent-%COMP%]{font-size:.7rem}}"]})};function $t(n,t){if(n&1){let e=E();o(0,"div",3),p(1,"img",4),o(2,"div",5)(3,"p",6),s(4,"Miammi"),r(),o(5,"p",7),s(6),r(),p(7,"p",8),r(),o(8,"button",9),m("click",function(){let c=h(e).$implicit,g=u();return M(g.deleteMessage(c.id))}),p(9,"img",10),r()()}if(n&2){let e=t.$implicit;a(6),pe("",e.jour,"/",e.mois,"/",e.annee," ",e.heure,":",e.minute,""),a(),l("innerHTML",e.message,le)}}var Ee=class n{constructor(t){this.apiService=t}message=[];destroy$=new N;ngOnInit(){this.apiService.getMiami().pipe(x(this.destroy$)).subscribe(t=>{this.message=t.sort((e,i)=>i.id-e.id),this.message.forEach(e=>{e.message=e.message.replace(/\n/g,"<br>")})},t=>{console.error("Erreur lors de la r\xE9cup\xE9ration des donn\xE9es:",t)})}deleteMessage(t){this.apiService.deletemessage(t).pipe(x(this.destroy$)).subscribe(()=>{this.apiService.getMiami().pipe(x(this.destroy$)).subscribe(e=>{this.message=e.sort((i,c)=>c.id-i.id),this.message.forEach(i=>{i.message=i.message.replace(/\n/g,"<br>")})},e=>{console.error("Erreur lors de la r\xE9cup\xE9ration des messages:",e)})},e=>{console.error("Erreur lors de la suppression du message:",e)})}deleteAllMessages(){this.apiService.deleteallmessage().pipe(x(this.destroy$),We(()=>this.apiService.getMiami().pipe(x(this.destroy$)))).subscribe(t=>{this.message=t.sort((e,i)=>i.id-e.id),this.message.forEach(e=>{e.message=e.message.replace(/\n/g,"<br>")})},t=>{console.error("Erreur lors de la r\xE9cup\xE9ration des messages:",t)})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static \u0275fac=function(e){return new(e||n)(d(b))};static \u0275cmp=f({type:n,selectors:[["app-miammi"]],decls:4,vars:1,consts:[[1,"notification-container"],["class","message",4,"ngFor","ngForOf"],[1,"deleteAllMsg",3,"click"],[1,"message"],["src","public/avatar/Miammi.png","alt","Photo de profil de Miammi",1,"avatar"],[1,"message-container"],[1,"message-author"],[1,"message-date"],[1,"message-text",3,"innerHTML"],[1,"delete-message-btn",3,"click"],["src","public/svg/message sup.svg","alt","Supprimer le message"]],template:function(e,i){e&1&&(o(0,"div",0),_(1,$t,10,6,"div",1),o(2,"button",2),m("click",function(){return i.deleteAllMessages()}),s(3,"Supprimer tous les messages"),r()()),e&2&&(a(),l("ngForOf",i.message))},dependencies:[y,R],styles:[".notification-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:10px;margin-top:25px}.message[_ngcontent-%COMP%]{display:flex;align-items:flex-start;margin:5px 0;padding:15px;border-radius:10px;background-color:#333;box-shadow:0 2px 5px #0000004d;width:100%;max-width:500px;box-sizing:border-box}.delete-message-btn[_ngcontent-%COMP%]{margin-left:auto;align-items:center;justify-content:center;border:none;background-color:transparent;cursor:pointer}.avatar[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;margin-right:10px;flex-shrink:0}.message-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.message-author[_ngcontent-%COMP%]{font-weight:700;color:#fff;margin:0}.message-date[_ngcontent-%COMP%]{color:#bbb;font-size:.85rem;margin:0}.message-text[_ngcontent-%COMP%]{color:#f1f1f1;font-size:.95rem;margin:0}.deleteAllMessages[_ngcontent-%COMP%]{margin-top:10px;background-color:#ff6f61;color:#fff;border:none;padding:10px 20px;border-radius:5px;cursor:pointer}@media screen and (max-width: 900px){.message[_ngcontent-%COMP%], .notification-container[_ngcontent-%COMP%]{width:90vw}}"]})};var Ie=class n{constructor(t){this.apiservice=t}message="";destroy$=new N;onSubmit(){this.apiservice.MiammiAjout(this.message).pipe(x(this.destroy$)).subscribe(t=>{this.message=""},t=>{console.error("Erreur lors de l'ajout du message :",t)})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static \u0275fac=function(e){return new(e||n)(d(b))};static \u0275cmp=f({type:n,selectors:[["app-miammiajout"]],decls:6,vars:1,consts:[[1,"miammi"],["src","public/avatar/Miammi.png","alt","Photo de profil de Miammi"],[3,"submit"],["name","message","id","message","placeholder","\xC9cris ton message ici...",3,"ngModelChange","ngModel"],["type","submit"]],template:function(e,i){e&1&&(o(0,"div",0),p(1,"img",1),o(2,"form",2),m("submit",function(){return i.onSubmit()}),o(3,"textarea",3),j("ngModelChange",function(g){return D(i.message,g)||(i.message=g),g}),r(),o(4,"button",4),s(5,"Envoyer le message"),r()()()),e&2&&(a(3),T("ngModel",i.message))},dependencies:[U,V,w,k,A,L,B],styles:['@charset "UTF-8";.miammi[_ngcontent-%COMP%]{display:flex;align-items:flex-start;width:100%;max-width:600px;margin:0 auto;box-sizing:border-box}img[_ngcontent-%COMP%]{width:50px;height:auto;border-radius:50%;margin-right:10px}form[_ngcontent-%COMP%]{position:relative;width:100%;display:flex;flex-direction:column;gap:10px;margin-top:20px}textarea[_ngcontent-%COMP%]{width:100%;height:300px;color:#f1f1f1;padding:10px;border:1px solid #ccc;border-radius:8px;font-size:16px;resize:none;box-shadow:0 4px 8px #0000001a;margin-top:20px;background:transparent}button[_ngcontent-%COMP%]{align-self:flex-end;padding:8px 16px;background-color:#4caf50;color:#fff;border:none;border-radius:5px;cursor:pointer}button[_ngcontent-%COMP%]:hover{background-color:#45a049}@media (max-width: 900px){.miammi[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px;margin-right:5px}.miammi[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:90%}.miammi[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{align-self:flex-start}}@media (max-width: 500px){.miammi[_ngcontent-%COMP%]{flex-direction:column;align-items:center;text-align:center}.miammi[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-bottom:10px}.miammi[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:100%;margin-top:5px}.miammi[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{margin-top:0}}']})};var oe=class n{constructor(t){this.apiservice=t;this.proverbe=new ge({proverbe:new H("")})}proverbe;message="";destroy$=new N;PSubmit(){this.apiservice.ProverbeAjout(this.proverbe.value).pipe(x(this.destroy$)).subscribe(t=>{this.message=`Le proverbe ${this.proverbe.value.proverbe} a \xE9t\xE9 ajout\xE9.`,setTimeout(()=>{this.message=""},3e3),this.proverbe.reset()},t=>{this.message="Une erreur s'est produite lors de l'ajout du proverbe."})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static \u0275fac=function(e){return new(e||n)(d(b))};static \u0275cmp=f({type:n,selectors:[["app-proverbeajout"]],decls:9,vars:2,consts:[[1,"proverbe"],[1,"form",3,"submit","formGroup"],["for","proverbe"],["type","text","name","proverbe","id","proverbe","formControlName","proverbe"],["type","submit"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"form",1),m("submit",function(){return i.PSubmit()}),o(2,"label",2),s(3,"Proverbe : "),r(),p(4,"input",3),o(5,"button",4),s(6,"Ajouter"),r()(),o(7,"p"),s(8),r()()),e&2&&(a(),l("formGroup",i.proverbe),a(7),C(i.message))},dependencies:[q,V,w,k,A,te,ne],styles:['@charset "UTF-8";.proverbe[_ngcontent-%COMP%]{background-color:#333;padding:20px;border-radius:8px;width:100%;max-width:500px;margin:0 auto;box-sizing:border-box}form[_ngcontent-%COMP%]{display:flex;align-items:center}form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#fff;margin-right:10px}form[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{flex:1;background-color:#444;border:1px solid #555;color:#fff;padding:8px;border-radius:5px}form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#555;border:none;color:#fff;padding:10px 20px;border-radius:5px;margin-left:10px;cursor:pointer}form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#666}@media (max-width: 600px){.proverbe[_ngcontent-%COMP%]{padding:10px}form[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}label[_ngcontent-%COMP%]{margin-bottom:5px}input[type=text][_ngcontent-%COMP%]{margin-bottom:10px}button[_ngcontent-%COMP%]{margin-left:0}}']})};var Ne=class n{constructor(t){this.apiservice=t;this.menu=new ge({jour:new H(""),periode:new H(""),entree:new H(""),plats:new H(""),accompagnement:new H(""),fromage:new H(""),dessert:new H("")})}menu;message="";destroy$=new N;MSubmit(){this.apiservice.MenuAjout(this.menu.value).pipe(x(this.destroy$)).subscribe(t=>{this.message=`Le menu pour le ${this.menu.value.jour} ${this.menu.value.periode} a \xE9t\xE9 ajout\xE9.`,setTimeout(()=>{this.message=""},3e3),this.menu.reset()},t=>{this.message="Une erreur s'est produite lors de l'ajout du menu."})}vider(){this.apiservice.menuvider().pipe(x(this.destroy$)).subscribe(t=>{this.message="Le menu de cette semaine a bien \xE9t\xE9 vid\xE9.",setTimeout(()=>{this.message=""},3e3)},t=>{this.message="Une erreur s'est produite lors du vidage du menu.",setTimeout(()=>{this.message=""},3e3)})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static \u0275fac=function(e){return new(e||n)(d(b))};static \u0275cmp=f({type:n,selectors:[["app-menuajout"]],decls:44,vars:2,consts:[[1,"menu"],[3,"ngSubmit","formGroup"],["for","jours"],["formControlName","jour","id","jours"],["value","lundi"],["value","mardi"],["value","mercredi"],["value","jeudi"],["value","vendredi"],["for","periode"],["formControlName","periode","id","periode"],["value","midi"],["value","soir"],["for","entree"],["type","text","formControlName","entree","id","entree"],["for","plat"],["type","text","formControlName","plats","id","plat"],["for","accompagnement"],["type","text","formControlName","accompagnement","id","accompagnement"],["for","fromage"],["type","text","formControlName","fromage","id","fromage"],["for","dessert"],["type","text","formControlName","dessert","id","dessert"],["type","submit"],[3,"click"]],template:function(e,i){e&1&&(p(0,"app-proverbeajout"),o(1,"div",0)(2,"form",1),m("ngSubmit",function(){return i.MSubmit()}),o(3,"label",2),s(4,"Jour : "),r(),o(5,"select",3)(6,"option",4),s(7,"Lundi"),r(),o(8,"option",5),s(9,"Mardi"),r(),o(10,"option",6),s(11,"Mercredi"),r(),o(12,"option",7),s(13,"Jeudi"),r(),o(14,"option",8),s(15,"Vendredi"),r()(),o(16,"label",9),s(17,"P\xE9riode : "),r(),o(18,"select",10)(19,"option",11),s(20,"Midi"),r(),o(21,"option",12),s(22,"Soir"),r()(),o(23,"label",13),s(24,"Entr\xE9e :"),r(),p(25,"input",14),o(26,"label",15),s(27,"Plats : "),r(),p(28,"input",16),o(29,"label",17),s(30,"Accompagnement :"),r(),p(31,"input",18),o(32,"label",19),s(33,"Fromage :"),r(),p(34,"input",20),o(35,"label",21),s(36,"D\xE9ssert : "),r(),p(37,"input",22),o(38,"button",23),s(39,"Envoyer"),r(),o(40,"button",24),m("click",function(){return i.vider()}),s(41,"Fin de la semaine"),r()(),o(42,"p"),s(43),r()()),e&2&&(a(2),l("formGroup",i.menu),a(41),C(i.message))},dependencies:[q,V,fe,_e,w,ue,k,A,te,ne,oe],styles:['@charset "UTF-8";.menu[_ngcontent-%COMP%]{background-color:#333;padding:20px;border-radius:8px;width:100%;max-width:600px;margin:0 auto;box-sizing:border-box}form[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 2fr;gap:20px;align-items:center}label[_ngcontent-%COMP%]{color:#fff;text-align:left;padding-right:10px}input[type=text][_ngcontent-%COMP%], select[_ngcontent-%COMP%]{background-color:#444;border:1px solid #555;color:#fff;padding:8px;border-radius:5px;width:100%;box-sizing:border-box}button[_ngcontent-%COMP%]{background-color:#555;border:none;color:#fff;padding:10px 20px;border-radius:5px;grid-column:span 2;cursor:pointer;margin-top:20px}button[_ngcontent-%COMP%]:hover{background-color:#666}@media (max-width: 600px){form[_ngcontent-%COMP%]{grid-template-columns:1fr}}']})};var Ht=n=>({"background-color":n}),lt=n=>({color:n}),Te=class n{constructor(t){this.api=t}backgroundColor="#333";titleColor="#bc8623";elementColor="#f1f1f1";onSubmit(){this.api.addDesign(this.backgroundColor,this.titleColor,this.elementColor).subscribe()}static \u0275fac=function(e){return new(e||n)(d(b))};static \u0275cmp=f({type:n,selectors:[["app-add-design"]],decls:21,vars:12,consts:[[1,"design"],[1,"design-form"],[3,"ngSubmit"],["for","color1"],["type","color","id","color1","name","backgroundColor",3,"ngModelChange","ngModel"],["for","color2"],["type","color","id","color2","name","titleColor",3,"ngModelChange","ngModel"],["for","color3"],["type","color","id","color3","name","elementColor",3,"ngModelChange","ngModel"],["type","submit"],["id","preview",1,"preview",3,"ngStyle"],[3,"ngStyle"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"div",1)(2,"h2"),s(3,"Cr\xE9e un design"),r(),o(4,"form",2),m("ngSubmit",function(){return i.onSubmit()}),o(5,"label",3),s(6,"Couleur de fond :"),r(),o(7,"input",4),j("ngModelChange",function(g){return D(i.backgroundColor,g)||(i.backgroundColor=g),g}),r(),o(8,"label",5),s(9,"Couleur de titre :"),r(),o(10,"input",6),j("ngModelChange",function(g){return D(i.titleColor,g)||(i.titleColor=g),g}),r(),o(11,"label",7),s(12,"Couleur des \xE9l\xE9ments :"),r(),o(13,"input",8),j("ngModelChange",function(g){return D(i.elementColor,g)||(i.elementColor=g),g}),r(),o(14,"button",9),s(15,"Publier"),r()()(),o(16,"div",10)(17,"h1",11),s(18,"Type d'\xE9l\xE9ments"),r(),o(19,"h2",11),s(20,"Les \xE9l\xE9ments"),r()()()),e&2&&(a(7),T("ngModel",i.backgroundColor),a(3),T("ngModel",i.titleColor),a(3),T("ngModel",i.elementColor),a(3),l("ngStyle",v(6,Ht,i.backgroundColor)),a(),l("ngStyle",v(8,lt,i.titleColor)),a(2),l("ngStyle",v(10,lt,i.elementColor)))},dependencies:[U,V,w,k,A,L,B,y,me],styles:[".design[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;align-items:center;height:100vh}.design[_ngcontent-%COMP%]   .design-form[_ngcontent-%COMP%]{flex:1;max-width:400px;padding:2rem;background-color:#1e1e1e;border-radius:10px;box-shadow:0 4px 10px #00000080}.design[_ngcontent-%COMP%]   .design-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:1.5rem;font-size:1.5rem;color:#fff}.design[_ngcontent-%COMP%]   .design-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.design[_ngcontent-%COMP%]   .design-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;color:#ccc}.design[_ngcontent-%COMP%]   .design-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[type=color][_ngcontent-%COMP%]{width:100%;max-width:200px;height:40px;border:none;border-radius:5px;cursor:pointer}.design[_ngcontent-%COMP%]   .design-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:1rem;padding:.5rem 1rem;background-color:#0078d4;color:#fff;border:none;border-radius:5px;font-size:.9rem;max-width:150px;width:100%;cursor:pointer;transition:background-color .3s}.design[_ngcontent-%COMP%]   .design-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#005bb5}.design[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]{flex:1;max-width:400px;height:300px;display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;border:2px dashed #cccccc;border-radius:10px;margin:2rem 0}.design[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .design[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:.5rem 0;color:#fff}@media (max-width: 768px){.design[_ngcontent-%COMP%]{flex-direction:column}.design-form[_ngcontent-%COMP%], .preview[_ngcontent-%COMP%]{max-width:90%}}"]})};var De=class n{constructor(t,e){this.apiService=t;this.recipeForm=e.group({name:[""],slug:[""],intro:[""],ingredients:[""],ustensiles:[""],preparation:[""],conseil:[""],presentation:[""]})}recipeForm;selectedFile=null;destroy$=new N;onFileChange(t){let e=t.target;e.files&&e.files.length>0&&(this.selectedFile=e.files[0])}onSubmit(){let t=new FormData;t.append("name",this.recipeForm.get("name").value),t.append("slug",this.recipeForm.get("slug").value),t.append("intro",this.recipeForm.get("intro").value),t.append("ingredients",this.recipeForm.get("ingredients").value),t.append("ustensiles",this.recipeForm.get("ustensiles").value),t.append("preparation",this.recipeForm.get("preparation").value),t.append("conseil",this.recipeForm.get("conseil").value),t.append("presentation",this.recipeForm.get("presentation").value),this.selectedFile&&t.append("image",this.selectedFile,this.selectedFile.name),this.apiService.rec(t).pipe(x(this.destroy$)).subscribe(()=>{alert("Recette ajout\xE9e")},e=>{alert("Erreur lors de l'ajout de la recette")})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static \u0275fac=function(e){return new(e||n)(d(b),d(at))};static \u0275cmp=f({type:n,selectors:[["app-addrecipe"]],decls:42,vars:1,consts:[["id","add-recipe-form","enctype","multipart/form-data",3,"ngSubmit","formGroup"],["for","nom"],["type","text","id","nom","formControlName","name","required","","placeholder","Ex : G\xE2teau de No\xEBl moelleux"],["for","slug"],["type","text","id","slug","formControlName","slug","required","","placeholder","Ex : gateau-de-noel-moelleux"],["for","intro"],["id","intro","formControlName","intro","rows","3","required","","placeholder","Une courte introduction de la recette..."],["for","ingredients"],["id","ingredients","formControlName","ingredients","rows","5","required","","placeholder",`Ex : 100 g de farine
2 \u0153ufs
50 g de sucre`],["for","ustensiles"],["id","ustensiles","formControlName","ustensiles","rows","3","placeholder",`Ex : Fouet
Saladier
Po\xEAle`],["for","preparation"],["id","preparation","formControlName","preparation","rows","8","required","","placeholder",`Ex : Pr\xE9chauffez le four \xE0 180\xB0C.
M\xE9langez les \u0153ufs et le sucre...`],["for","conseil"],["type","text","id","conseil","formControlName","conseil","placeholder","Un conseil optionnel pour les gourmands..."],["for","presentation"],["id","presentation","formControlName","presentation","rows","3","placeholder","Comment pr\xE9senter ou d\xE9guster la recette..."],["for","image"],["type","file","id","image","formControlName","image","accept","image/*",3,"change"],["type","submit"]],template:function(e,i){e&1&&(o(0,"h2"),s(1,"Ajout de recettes"),r(),o(2,"form",0),m("ngSubmit",function(){return i.onSubmit()}),o(3,"div")(4,"label",1),s(5,"Nom de la recette :"),r(),p(6,"input",2),r(),o(7,"div")(8,"label",3),s(9,"Slug (URL friendly) :"),r(),p(10,"input",4),r(),o(11,"div")(12,"label",5),s(13,"Introduction gourmande :"),r(),p(14,"textarea",6),r(),o(15,"div")(16,"label",7),s(17,"Ingr\xE9dients (un par ligne) :"),r(),p(18,"textarea",8),r(),o(19,"div")(20,"label",9),s(21,"Ustensiles (un par ligne) :"),r(),p(22,"textarea",10),r(),o(23,"div")(24,"label",11),s(25,"Pr\xE9paration (une \xE9tape par ligne) :"),r(),p(26,"textarea",12),r(),o(27,"div")(28,"label",13),s(29,"Conseil de Miammi :"),r(),p(30,"input",14),r(),o(31,"div")(32,"label",15),s(33,"Pr\xE9sentation finale :"),r(),p(34,"textarea",16),r(),o(35,"div")(36,"label",17),s(37,"Image de la recette :"),r(),o(38,"input",18),m("change",function(g){return i.onFileChange(g)}),r()(),o(39,"div")(40,"button",19),s(41,"Ajouter la recette"),r()()()),e&2&&(a(2),l("formGroup",i.recipeForm))},dependencies:[U,V,w,k,A,rt,q,te,ne],styles:["#add-recipe-form[_ngcontent-%COMP%]{background-color:#2c2c2c;padding:20px;border-radius:10px;box-shadow:0 4px 8px #0000001a}#add-recipe-form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#fff;font-weight:700;display:block;margin-bottom:5px}#add-recipe-form[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], #add-recipe-form[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%], #add-recipe-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px;margin-bottom:15px;border:1px solid #444444;border-radius:5px;background-color:#3c3c3c;color:#fff}#add-recipe-form[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]::placeholder, #add-recipe-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:#aaa}#add-recipe-form[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;padding:10px 20px;border:none;border-radius:5px;cursor:pointer;font-size:16px;font-weight:700;transition:background-color .3s}#add-recipe-form[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]:hover{background-color:#45a049}#add-recipe-form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-bottom:20px}"]})};function Wt(n,t){if(n&1){let e=E();o(0,"button",12),m("click",function(){h(e);let c=u().$implicit,g=u();return M(g.updatePassword(c))}),s(1," Mettre \xE0 jour "),r()}}function Gt(n,t){if(n&1){let e=E();o(0,"tr")(1,"td",2),s(2),r(),o(3,"td",3)(4,"div",4)(5,"input",5),m("ngModelChange",function(c){let g=h(e).$implicit,pt=u();return M(pt.passwords[g.id]=c)})("keydown.enter",function(){let c=h(e).$implicit,g=u();return M(g.updatePassword(c))}),r(),_(6,Wt,2,0,"button",6),r()(),o(7,"td",7)(8,"select",8),j("ngModelChange",function(c){let g=h(e).$implicit;return D(g.role,c)||(g.role=c),M(c)}),m("ngModelChange",function(){let c=h(e).$implicit,g=u();return M(g.updateRoleUser(c))}),o(9,"option",9),s(10,"Administrateur"),r(),o(11,"option",10),s(12,"Utilisateur"),r()()(),o(13,"button",11),m("click",function(){let c=h(e).$implicit,g=u();return M(g.deleteUser(c.id))}),s(14,"\u{1F5D1}\uFE0F Supprimer"),r()()}if(n&2){let e=t.$implicit,i=u();a(2),C(e.name),a(3),l("ngModel",i.passwords[e.id]),a(),l("ngIf",i.passwords[e.id]&&i.passwords[e.id].length>0),a(2),T("ngModel",e.role)}}var je=class n{constructor(t){this.api=t}users=[];passwords={};destroy$=new N;ngOnInit(){this.api.selectAllUsers().pipe(x(this.destroy$)).subscribe(t=>{t&&(this.users=t)})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}deleteUser(t){this.api.deleteUser(t).pipe(x(this.destroy$)).subscribe(e=>{e&&(this.users=this.users.filter(i=>i.id!==t))})}updatePassword(t){let e=this.passwords[t.id];this.api.updatePasswordUser(t.id,e).pipe(x(this.destroy$)).subscribe(i=>{i&&(this.passwords[t.id]="")})}updateRoleUser(t){this.api.updateRoleUser(t.id,t.role).pipe(x(this.destroy$)).subscribe(e=>{})}static \u0275fac=function(e){return new(e||n)(d(b))};static \u0275cmp=f({type:n,selectors:[["app-users-settings"]],decls:12,vars:1,consts:[[1,"table-container"],[4,"ngFor","ngForOf"],["data-label","Nom"],["data-label","Mot de passe"],[1,"pwd-container"],["type","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",3,"ngModelChange","keydown.enter","ngModel"],["class","update-btn",3,"click",4,"ngIf"],["data-label","R\xF4le"],[3,"ngModelChange","ngModel"],["value","admin"],["value","user"],[1,"delete-btn",3,"click"],[1,"update-btn",3,"click"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"table")(2,"thead")(3,"tr")(4,"th"),s(5,"Nom"),r(),o(6,"th"),s(7,"Mot de passe"),r(),o(8,"th"),s(9,"R\xF4le"),r()()(),o(10,"tbody"),_(11,Gt,15,4,"tr",1),r()()()),e&2&&(a(11),l("ngForOf",i.users))},dependencies:[y,R,I,U,fe,_e,w,ue,k,L],styles:[".table-container[_ngcontent-%COMP%]{width:100%;overflow-x:auto}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;font-size:1rem;color:#fff;background:#1e1e1e;border-radius:8px;margin-top:20px;text-align:left;overflow:hidden}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:#333;text-transform:uppercase}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:12px 16px;font-weight:700}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid rgba(255,255,255,.1)}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background:#292929}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#3a3a3a}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 16px}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:#222;color:#fff;border:1px solid #444;padding:8px;border-radius:4px;font-size:.9rem;min-width:130px;max-width:200px}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .delete-btn[_ngcontent-%COMP%]{margin-left:10px;background:#ff4d4d;color:#fff;border:none;padding:8px 12px;border-radius:6px;cursor:pointer;transition:.2s;font-weight:700}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .delete-btn[_ngcontent-%COMP%]:hover{background:#d93838}.update-btn[_ngcontent-%COMP%]{margin-left:10px;background:#1aa052;color:#fff;border:none;padding:8px 12px;border-radius:6px;cursor:pointer;font-weight:700;transition:.2s}.update-btn[_ngcontent-%COMP%]:hover{background:#168e48}.pwd-container[_ngcontent-%COMP%]{display:inline-flex;align-items:center}@media (max-width: 768px){.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{font-size:.85rem}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{display:none}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background:#292929;border-radius:8px;padding:15px;margin-bottom:10px;display:flex;flex-direction:column;gap:8px}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;font-size:.95rem}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:before{content:attr(data-label);font-weight:700;text-transform:uppercase;color:#bbb;margin-right:10px}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;width:auto;max-width:100%}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .delete-btn[_ngcontent-%COMP%]{width:100%;margin-top:10px;text-align:center}.update-btn[_ngcontent-%COMP%]{width:100%;margin-top:10px;margin-left:0;text-align:center}.pwd-container[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.pwd-container[_ngcontent-%COMP%]   .update-btn[_ngcontent-%COMP%]{margin-left:0;margin-top:10px;width:100%}}"]})};var Fe=class n{searchTerms="";search=qe();onSearch(){this.search.emit(this.searchTerms)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=f({type:n,selectors:[["app-searchbar"]],outputs:{search:"search"},decls:4,vars:1,consts:[[1,"search-bar"],["type","text","placeholder","Rechercher...",1,"search-input",3,"ngModelChange","input","ngModel"],[1,"search-btn"],[1,"fas","fa-search"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"input",1),j("ngModelChange",function(g){return D(i.searchTerms,g)||(i.searchTerms=g),g}),m("input",function(){return i.onSearch()}),r(),o(2,"button",2),p(3,"i",3),r()()),e&2&&(a(),T("ngModel",i.searchTerms))},dependencies:[y,U,w,k,L],styles:[".search-bar[_ngcontent-%COMP%]{display:flex;align-items:center;background:#ffffff1a;border-radius:25px;padding:8px 12px;width:100%;max-width:400px;transition:.3s ease-in-out}.search-input[_ngcontent-%COMP%]{flex:1;background:transparent;border:none;outline:none;color:#fff;font-size:16px;padding:8px}.search-input[_ngcontent-%COMP%]::placeholder{color:#fff9}.search-btn[_ngcontent-%COMP%]{background:none;border:none;color:#fff;cursor:pointer;font-size:18px;padding:5px;transition:.3s}.search-btn[_ngcontent-%COMP%]:hover{transform:scale(1.1);color:#f8b400}.search-bar[_ngcontent-%COMP%]:focus-within{box-shadow:0 0 8px #ffffff4d;background:#fff3}"]})};function Bt(n,t){n&1&&p(0,"app-navbar")}function qt(n,t){n&1&&p(0,"app-navbar-u")}function Jt(n,t){n&1&&p(0,"app-navbar-a")}function Yt(n,t){n&1&&p(0,"app-menu")}function Qt(n,t){n&1&&p(0,"app-notif")}function Kt(n,t){if(n&1){let e=E();o(0,"app-searchbar",11),m("search",function(c){h(e);let g=u();return M(g.handleSearch(c))}),r()}}function Xt(n,t){if(n&1){let e=E();o(0,"app-list",12),m("selectRecipe",function(c){h(e);let g=u();return M(g.displayRecipe(c))}),r()}if(n&2){let e=u();l("searchTerm",e.searchTerm)}}function Zt(n,t){if(n&1&&p(0,"app-plat",13),n&2){let e=u();l("slug",e.selectedRecipeSlug)}}function en(n,t){if(n&1&&p(0,"app-all-proverbe",14),n&2){let e=u();l("searchTerm",e.searchTerm)}}function tn(n,t){n&1&&p(0,"app-palette")}function nn(n,t){n&1&&p(0,"app-password")}function on(n,t){n&1&&p(0,"app-username")}function rn(n,t){n&1&&p(0,"app-miammi")}function an(n,t){n&1&&p(0,"app-miammiajout")}function sn(n,t){n&1&&p(0,"app-menuajout")}function ln(n,t){n&1&&p(0,"app-add-design")}function cn(n,t){n&1&&p(0,"app-addrecipe")}function pn(n,t){n&1&&p(0,"app-proverbeajout")}function mn(n,t){n&1&&p(0,"app-users-settings")}var ct=class n{constructor(t,e){this.navigate=t;this.auth=e}page="menu";currentNavbar="public";selectedRecipeSlug="";searchTerm="";ngOnInit(){this.auth.getRole().subscribe(t=>{this.currentNavbar=t}),this.navigate.page$.subscribe(t=>{this.page=t})}handleSearch(t){this.searchTerm=t}displayRecipe(t){this.selectedRecipeSlug=t,this.page="recipe"}static \u0275fac=function(e){return new(e||n)(d(W),d($))};static \u0275cmp=f({type:n,selectors:[["app-home"]],decls:24,vars:20,consts:[[1,"container"],[1,"navbar",3,"ngSwitch"],[4,"ngSwitchCase"],[1,"public"],[4,"ngIf"],[3,"search",4,"ngIf"],[3,"searchTerm","selectRecipe",4,"ngIf"],[3,"slug",4,"ngIf"],[1,"user"],[3,"searchTerm",4,"ngIf"],[1,"admin"],[3,"search"],[3,"selectRecipe","searchTerm"],[3,"slug"],[3,"searchTerm"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"div",1),_(2,Bt,1,0,"app-navbar",2)(3,qt,1,0,"app-navbar-u",2)(4,Jt,1,0,"app-navbar-a",2),r(),o(5,"div",3),_(6,Yt,1,0,"app-menu",4)(7,Qt,1,0,"app-notif",4)(8,Kt,1,0,"app-searchbar",5)(9,Xt,1,1,"app-list",6)(10,Zt,1,1,"app-plat",7),r(),o(11,"div",8),_(12,en,1,1,"app-all-proverbe",9)(13,tn,1,0,"app-palette",4)(14,nn,1,0,"app-password",4)(15,on,1,0,"app-username",4),r(),o(16,"div",10),_(17,rn,1,0,"app-miammi",4)(18,an,1,0,"app-miammiajout",4)(19,sn,1,0,"app-menuajout",4)(20,ln,1,0,"app-add-design",4)(21,cn,1,0,"app-addrecipe",4)(22,pn,1,0,"app-proverbeajout",4)(23,mn,1,0,"app-users-settings",4),r()()),e&2&&(a(),l("ngSwitch",i.currentNavbar),a(),l("ngSwitchCase","guest"),a(),l("ngSwitchCase","user"),a(),l("ngSwitchCase","admin"),a(2),l("ngIf",i.page=="menu"),a(),l("ngIf",i.page=="notifs"),a(),l("ngIf",i.page=="recipes-list"||i.page=="all-proverbs"),a(),l("ngIf",i.page=="recipes-list"),a(),l("ngIf",i.page=="recipe"),a(2),l("ngIf",i.page=="all-proverbs"),a(),l("ngIf",i.page=="palette"),a(),l("ngIf",i.page=="change-password"),a(),l("ngIf",i.page=="change-username"),a(2),l("ngIf",i.page=="miammi"),a(),l("ngIf",i.page=="miammiajout"),a(),l("ngIf",i.page=="menuajout"),a(),l("ngIf",i.page=="add-design"),a(),l("ngIf",i.page=="addrecipe"),a(),l("ngIf",i.page=="proverbeajout"),a(),l("ngIf",i.page=="users-settings"))},dependencies:[be,Ce,xe,Me,ye,Pe,Oe,Se,we,ke,Ee,Ie,Ne,Te,De,je,oe,st,Fe,y,I,tt,nt],styles:[".container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto}"]})};export{ct as HomeComponent};
