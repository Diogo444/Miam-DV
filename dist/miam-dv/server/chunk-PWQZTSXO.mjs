import './polyfills.server.mjs';
import{a as R,b as E,c as O,e as k,g as N,h as z,n as I,p as L,q as T}from"./chunk-Q55HIBMA.mjs";import{k as y,l as S}from"./chunk-AJ2JGI3N.mjs";import{a as P}from"./chunk-VGFK22BG.mjs";import{Ba as b,Ga as l,Pa as d,Sa as t,Ta as n,Ub as v,Va as C,Wa as x,Ya as h,Za as g,Zb as w,eb as s,fb as M,ib as u,jb as c,kb as f,ta as m,ua as p}from"./chunk-T6ZIWIQY.mjs";import"./chunk-H4UZCO6D.mjs";function j(o,e){if(o&1&&(t(0,"p"),s(1),n()),o&2){let i=g(2);m(),M(i.message)}}function F(o,e){if(o&1&&(C(0),l(1,j,2,1,"p",9),x()),o&2){let i=g();m(),d("ngIf",i.message)}}var W=class o{constructor(e,i){this.api=e;this.router=i}username="";password="";message="";onRegister(){this.api.register(this.username,this.password).subscribe(e=>{this.router.navigate(["/"])},e=>{console.error(e),this.handleError(e)})}handleError(e){e.status===400?this.message="Veuillez remplir tous les champs requis.":e.status===409?this.message="Le nom d'utilisateur est d\xE9j\xE0 pris.":e.status===422?this.message="Le mot de passe doit contenir au moins 4 caract\xE8res.":e.status===500?this.message="Une erreur interne du serveur est survenue. Veuillez r\xE9essayer plus tard.":this.message="Une erreur inconnue est survenue."}static \u0275fac=function(i){return new(i||o)(p(P),p(y))};static \u0275cmp=b({type:o,selectors:[["app-register"]],decls:19,vars:3,consts:[[1,"register-container"],[1,"form-title"],[1,"form",3,"ngSubmit"],[1,"form-group"],["for","username"],["type","text","id","username","name","username","required","",1,"input-field",3,"ngModelChange","ngModel"],["for","password"],["type","password","id","password","name","password","required","",1,"input-field",3,"ngModelChange","ngModel"],["type","submit",1,"submit-btn"],[4,"ngIf"],[1,"login-link"],["routerLink","/login"]],template:function(i,r){i&1&&(t(0,"div",0)(1,"h1",1),s(2,"Cr\xE9er un compte"),n(),t(3,"form",2),h("ngSubmit",function(){return r.onRegister()}),t(4,"div",3)(5,"label",4),s(6,"Nom d'utilisateur :"),n(),t(7,"input",5),f("ngModelChange",function(a){return c(r.username,a)||(r.username=a),a}),n()(),t(8,"div",3)(9,"label",6),s(10,"Mot de passe :"),n(),t(11,"input",7),f("ngModelChange",function(a){return c(r.password,a)||(r.password=a),a}),n()(),t(12,"button",8),s(13,"S'inscrire"),n(),l(14,F,2,1,"ng-container",9),n(),t(15,"p",10),s(16," J'ai d\xE9j\xE0 un compte : "),t(17,"a",11),s(18,"Me connecter"),n()()()),i&2&&(m(7),u("ngModel",r.username),m(4),u("ngModel",r.password),m(3),d("ngIf",r.message))},dependencies:[L,z,R,E,O,I,N,k,T,S,w,v],styles:[".register-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:100vh;padding:20px}.form-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;margin-bottom:20px}.form[_ngcontent-%COMP%]{width:100%;max-width:400px;background:#f1f1f1;padding:20px;border-radius:8px;box-shadow:0 4px 6px #0000001a}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-size:1rem;color:#555}.input-field[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:1rem;border:1px solid #ccc;border-radius:5px;box-sizing:border-box}.input-field[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none;box-shadow:0 0 3px #007bff80}.submit-btn[_ngcontent-%COMP%]{width:100%;padding:10px;background-color:#007bff;color:#fff;font-size:1rem;font-weight:700;border:none;border-radius:5px;cursor:pointer;text-transform:uppercase}.submit-btn[_ngcontent-%COMP%]:hover{background-color:#0056b3}.login-link[_ngcontent-%COMP%]{margin-top:15px;font-size:.9rem}.login-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#d2dce7;text-decoration:none;cursor:pointer}.login-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}p[_ngcontent-%COMP%]{color:red;font-size:.8rem;margin-bottom:5px}"]})};export{W as RegisterComponent};
