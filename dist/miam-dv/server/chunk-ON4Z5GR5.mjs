import './polyfills.server.mjs';
import{a as v,b as O,c as y,e as z,g as E,h as L,p as k}from"./chunk-Q55HIBMA.mjs";import{k as w,l as P}from"./chunk-AJ2JGI3N.mjs";import{a as S}from"./chunk-VGFK22BG.mjs";import{Ba as u,Ga as f,Pa as b,Sa as e,Ta as t,Ub as h,Ya as x,Za as C,Zb as M,eb as o,fb as _,ib as d,jb as l,kb as g,ta as m,ua as p}from"./chunk-T6ZIWIQY.mjs";import"./chunk-H4UZCO6D.mjs";function I(a,n){if(a&1&&(e(0,"p"),o(1),t()),a&2){let r=C();m(),_(r.message)}}var N=class a{constructor(n,r){this.api=n;this.router=r}username="";password="";message="";onSubmit(){this.api.login(this.username,this.password).subscribe(()=>{this.router.navigate(["/"])},n=>{this.handleError(n)})}handleError(n){n.status===400?this.message="Veuillez remplir tous les champs requis.":n.status===404?this.message="L'utilisateur n'existe pas.":n.status===401?(this.message="Mot de passe incorrect.",this.password=""):this.message="Une erreur est survenue."}static \u0275fac=function(r){return new(r||a)(p(S),p(w))};static \u0275cmp=u({type:a,selectors:[["app-login"]],decls:19,vars:3,consts:[[1,"login-container"],[1,"form-title"],[1,"form",3,"ngSubmit"],[1,"form-group"],["for","username"],["type","text","name","username","id","username","placeholder","Entrez votre nom d'utilisateur",1,"input-field",3,"ngModelChange","ngModel"],["for","password"],["type","password","name","password","id","password","placeholder","Entrez votre mot de passe",1,"input-field",3,"ngModelChange","ngModel"],["type","submit",1,"submit-btn"],[4,"ngIf"],[1,"register-link"],["routerLink","/register"]],template:function(r,i){r&1&&(e(0,"div",0)(1,"h1",1),o(2,"Je me connecte \xE0 mon compte"),t(),e(3,"form",2),x("ngSubmit",function(){return i.onSubmit()}),e(4,"div",3)(5,"label",4),o(6,"Nom d'utilisateur :"),t(),e(7,"input",5),g("ngModelChange",function(s){return l(i.username,s)||(i.username=s),s}),t()(),e(8,"div",3)(9,"label",6),o(10,"Mot de passe :"),t(),e(11,"input",7),g("ngModelChange",function(s){return l(i.password,s)||(i.password=s),s}),t()(),e(12,"button",8),o(13,"Se connecter"),t(),f(14,I,2,1,"p",9),t(),e(15,"p",10),o(16," Je n'ai pas encore de compte : "),e(17,"a",11),o(18,"S'inscrire"),t()()()),r&2&&(m(7),d("ngModel",i.username),m(4),d("ngModel",i.password),m(3),b("ngIf",i.message))},dependencies:[k,L,v,O,y,E,z,P,M,h],styles:[".login-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:100vh;padding:20px}.form-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;margin-bottom:20px}.form[_ngcontent-%COMP%]{width:100%;max-width:400px;background:#f1f1f1;padding:20px;border-radius:8px;box-shadow:0 4px 6px #0000001a}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}p[_ngcontent-%COMP%]{color:red;font-size:.8rem;margin-bottom:5px}label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-size:1rem;color:#555}.input-field[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:1rem;border:1px solid #ccc;border-radius:5px;box-sizing:border-box}.input-field[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none;box-shadow:0 0 3px #007bff80}.submit-btn[_ngcontent-%COMP%]{width:100%;padding:10px;background-color:#007bff;color:#fff;font-size:1rem;font-weight:700;border:none;border-radius:5px;cursor:pointer;text-transform:uppercase}.submit-btn[_ngcontent-%COMP%]:hover{background-color:#0056b3}.register-link[_ngcontent-%COMP%]{margin-top:15px;font-size:.9rem}.register-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#d2dce7;text-decoration:none;cursor:pointer}.register-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}@media (max-width: 768px){.form[_ngcontent-%COMP%]{padding:15px;max-width:90%}.form-title[_ngcontent-%COMP%]{font-size:1.2rem}.submit-btn[_ngcontent-%COMP%]{font-size:.9rem}.register-link[_ngcontent-%COMP%]{font-size:.8rem}}@media (max-width: 480px){.form-title[_ngcontent-%COMP%]{font-size:1rem}.form[_ngcontent-%COMP%]{padding:10px;max-width:100%}.input-field[_ngcontent-%COMP%]{padding:8px;font-size:.9rem}.submit-btn[_ngcontent-%COMP%]{font-size:.8rem;padding:8px}.register-link[_ngcontent-%COMP%]{font-size:.7rem}}"]})};export{N as LoginComponent};
