<section
  class="w-full min-h-screen bg-background-light text-text-main dark:bg-background-dark dark:text-background-light"
>
  <div
    class="mx-auto flex max-w-[1200px] flex-col gap-6 px-4 py-6 sm:px-6 sm:py-8 md:px-10 lg:px-16 xl:px-24"
  >
    <div class="flex flex-col gap-2">
      <p class="text-3xl font-black leading-tight tracking-[-0.033em] sm:text-4xl">
        Votre Menu Hebdomadaire
      </p>
      <app-proverbe></app-proverbe>
    </div>

    @if (!groupedMenus.length) {
      <div class="p-4 lg:p-0">
        <div class="flex flex-col items-center justify-center gap-4 rounded-xl border border-dashed border-primary/30 bg-primary-light/20 dark:bg-primary/10 py-12 px-6 text-center text-text-muted dark:text-primary/90">
          <span class="material-symbols-outlined text-5xl">restaurant_menu</span>
          <p class="text-lg font-medium">Menu non disponible</p>
          <p class="text-sm">Le menu de cette semaine n'a pas encore été publié. Veuillez revenir plus tard.</p>
        </div>
      </div>
    } @else {
      <!-- Mobile: swipeable cards -->
    <div class="-mx-4 sm:hidden">
      <div
        class="flex snap-x snap-mandatory items-stretch gap-4 overflow-x-auto px-4 [-ms-scrollbar-style:none] [scrollbar-width:none] [&::-webkit-scrollbar]:hidden"
      >
        @for (day of groupedMenus; track day.day) {
        <article
          class="min-w-[86%] flex h-full flex-col gap-4 rounded-2xl border border-primary-light/70 bg-background-light shadow-lg snap-center dark:border-primary/25 dark:bg-background-dark/70"
        >
          <div class="p-4 pb-0">
            <h2 class="text-lg font-bold leading-tight tracking-[-0.01em]">
              {{ day.day }}
            </h2>
          </div>
          <div class="flex flex-col gap-3 px-4 pb-4">
            @for (meal of day.meals; track meal.id) {
            <div
              class="rounded-xl border border-primary-light/60 bg-primary-light/70 p-3 dark:border-primary/30 dark:bg-primary/20"
            >
              <p class="text-sm font-semibold text-text-muted dark:text-primary/90">
                {{ meal.periode }}
              </p>
              <ul
                class="mt-2 space-y-1 text-sm font-normal leading-normal text-text-main/80 dark:text-background-light/80"
              >
                @if (meal.entree) {
                <li>
                  <span class="font-semibold text-text-main dark:text-background-light">Entrée:</span>
                  {{ meal.entree }}
                </li>
                }
                @if (meal.plat) {
                <li>
                  <span class="font-semibold text-text-main dark:text-background-light">Plat:</span>
                  {{ meal.plat }}
                </li>
                }
                @if (meal.fromage) {
                <li>
                  <span class="font-semibold text-text-main dark:text-background-light">Fromage:</span>
                  {{ meal.fromage }}
                </li>
                }
                @if (meal.dessert) {
                <li>
                  <span class="font-semibold text-text-main dark:text-background-light">Dessert:</span>
                  {{ meal.dessert }}
                </li>
                }
              </ul>
            </div>
            }
          </div>
        </article>
        }
      </div>
    </div>

    <!-- Tablet/Desktop: grid -->
    <div class="hidden grid-cols-1 gap-4 sm:grid sm:grid-cols-2 sm:gap-6 lg:grid-cols-3 lg:gap-8">
      @for (day of groupedMenus; track day.day) {
      <article
        class="flex h-full flex-col gap-4 rounded-2xl border border-primary-light/70 bg-background-light shadow-lg dark:border-primary/25 dark:bg-background-dark/70"
      >
        <div class="p-4 pb-0 sm:p-5 sm:pb-0">
          <h2 class="text-lg font-bold leading-tight tracking-[-0.01em] sm:text-xl">
            {{ day.day }}
          </h2>
        </div>
        <div class="flex flex-col gap-3 px-4 pb-4 sm:px-5 sm:pb-5">
          @for (meal of day.meals; track meal.id) {
          <div
            class="rounded-xl border border-primary-light/60 bg-primary-light/70 p-3 dark:border-primary/30 dark:bg-primary/20"
          >
            <p class="text-sm font-semibold text-text-muted dark:text-primary/90">
              {{ meal.periode }}
            </p>
            <ul
              class="mt-2 space-y-1 text-sm font-normal leading-normal text-text-main/80 dark:text-background-light/80"
            >
              @if (meal.entree) {
              <li>
                <span class="font-semibold text-text-main dark:text-background-light">Entrée:</span>
                {{ meal.entree }}
              </li>
              }
              @if (meal.plat) {
              <li>
                <span class="font-semibold text-text-main dark:text-background-light">Plat:</span>
                {{ meal.plat }}
              </li>
              }
              @if (meal.fromage) {
              <li>
                <span class="font-semibold text-text-main dark:text-background-light">Fromage:</span>
                {{ meal.fromage }}
              </li>
              }
              @if (meal.dessert) {
              <li>
                <span class="font-semibold text-text-main dark:text-background-light">Dessert:</span>
                {{ meal.dessert }}
              </li>
              }
            </ul>
          </div>
          }
        </div>
      </article>
      }
    </div>
    }


  </div>
</section>
